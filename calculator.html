<!DOCTYPE html>
<html>
  <head>
    <title>Calculator</title>
    <style text="text/css">
        .active {
            background-color: blue;
        }
    </style>
  </head>
  <body>
    <h1>Calculator</h1>
    <input type="text" id="screen" readonly>
    <br>
    <button data-key="1" onclick="addNumber('1')">1</button>
    <button data-key="2" onclick="addNumber('2')">2</button>
    <button data-key="3" onclick="addNumber('3')">3</button>
    <button data-key="+" onclick="addOperator('+')">+</button>
    <br>
    <button data-key="4" onclick="addNumber('4')">4</button>
    <button data-key="5" onclick="addNumber('5')">5</button>
    <button data-key="6" onclick="addNumber('6')">6</button>
    <button data-key="-" onclick="addOperator('-')">-</button>
    <br>
    <button data-key="7" onclick="addNumber('7')">7</button>
    <button data-key="8" onclick="addNumber('8')">8</button>
    <button data-key="9" onclick="addNumber('9')">9</button>
    <button data-key="*" onclick="addOperator('*')">*</button>
    <br>
    <button data-key="0" onclick="addNumber('0')">0</button>
    <button data-key="/" onclick="addOperator('/')">/</button>
    <button data-key="c" onclick="clearScreen()">C</button>
    <button data-key="=" onclick="calculate()">=</button>
    
    <script src="https://code.jquery.com/jquery-3.6.4.js"
        integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
    <script>

      function addNumber(num) {
        document.getElementById('screen').value += num;
      }
      
      function addOperator(operator) {
        document.getElementById('screen').value += operator;
      }
      
      function clearScreen() {
        document.getElementById('screen').value = "";
      }
      
      function calculate() {
        var result = eval(document.getElementById('screen').value);
        document.getElementById('screen').value = result;
      }

      
      function appendNumber(value){
            $('#input').append(value)
        }

        $(document).on('keypress', function (e) {
            console.log('e',e)
            // console.log($('button[data-event_key]="' + e.key + '"]'))
            const validKeys = ["1", "2", "3","4","5","6","7","8","9","0","+","-","=","/","c","*"];
            const clickedKey = e.key;
            switch (clickedKey) {
                case "1":
                case "2":
                case "3":
                case "4":
                case "5":
                case "6":
                case "7":
                case "8":
                case "9":
                case "0":
                    addNumber(clickedKey);
                    break;
                case "+":
                case "-":
                case "*":
                case "/":
                    addOperator(clickedKey);
                    break;
                case "=":
                    calculate();
                    break;
                case "c":
                    clearScreen()
                    break;
                default:
                    console.log('unknown key')
                    break;
            }
            $('button[data-key="'+e.key+'"]').addClass('active')
        })

        $(document).on('keyup', function (e) {
            $('button[data-key="'+e.key+'"]').removeClass('active')
        })
    </script>
  </body>
</html>
